#!/bin/bash

function addGoAlias() {
  alias_name=$1
  echo "alias go$alias_name=\"cd `pwd`\"" >> $HOME/Projects/MyDotFiles/.goaliases
  source $HOME/.zshrc
}

function cp_file_content() {
  local file="$1"
  cat `pwd`/file | pbcopy
}

function find_function() {
  type -a $1
}

function build_failure() {

  exit 1
}

function build_success() {

  exit 0
}

function count_files_recursively() {

  local directory=$1

  if [[ -d $directory ]] then

    file_number="$(find $directory -type f -print | wc -l)"
    info "$file_number files in this directory"
  else

    error "The path passed should be a directory!"
  fi
}

function show_enviroment_variables() {

  info "$(printenv | sort)"
}


# Get colors in manual pages
function man() {
    env \
        LESS_TERMCAP_mb=$(printf "\e[1;31m") \
        LESS_TERMCAP_md=$(printf "\e[1;31m") \
        LESS_TERMCAP_me=$(printf "\e[0m") \
        LESS_TERMCAP_se=$(printf "\e[0m") \
        LESS_TERMCAP_so=$(printf "\e[1;44;33m") \
        LESS_TERMCAP_ue=$(printf "\e[0m") \
        LESS_TERMCAP_us=$(printf "\e[1;32m") \
        man "$@"
}

function checksum() {
    local file=$1
    local sha=$2

    if [[ -n "$sha" ]]; then

      shasum -a $sha $file
    else
      shasum $file
    fi
}

function start_emulator() {

  emulator="$1"

  if [[ -n $emulator ]]; then
    screen -d -m player --vm-name "$emulator"
  else
    screen -d -m player --vm-name "c76f9518-ca45-4870-9c42-9108df91e444" # Motorola Moto X - 4.4.4 - API 19 - 720x1280
  fi
}

function quit_screen() {

  screenname="$1"

  if [[ -n "$screenname" ]]; then
    screen -X -S "$screenname" quit
  else
    error "Should pass screenname to quit"
  fi
}
